(this.webpackJsonpbucketlist=this.webpackJsonpbucketlist||[]).push([[0],{67:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c,o,i=n(2),a=n.n(i),r=n(25),d=n.n(r),l=(n(67),n(12)),u=n(48),s=n(49),b=n(58),j=n(56),p=n(8),f=n(11),x=n(22),h=n(4),O=f.a.div(c||(c=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 50vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 50vh;\n"]))),g=f.a.div(o||(o=Object(l.a)(["\n  padding: 16px;\n  margin: 8px;\n  font-weight: 600;\n  color: ",";\n  background-color: ",";\n  box-sizing: border-box;\n"])),(function(e){return e.completed?"#fff":"#212121"}),(function(e){return e.completed?"#673ab7":"#eee"})),k=function(e){var t=Object(x.d)((function(e){return e.bucket.list}));return console.log(t),Object(h.jsx)(O,{children:t.map((function(t,n){return Object(h.jsx)(g,{className:"list_item",completed:t.completed,onClick:function(){e.history.push("/detail/"+n)},children:t.text},n)}))})},m=n(57),v=n(77),y=n(96),E=n(30),w=n(53),_=n(7),D=n(43),C=n(40);n(76);C.a.initializeApp({apiKey:"AIzaSyBY1U8ClMOp6J4SdclIF1hg7g1KLp6jhaw",authDomain:"bucketlist-73696.firebaseapp.com",projectId:"bucketlist-73696",storageBucket:"bucketlist-73696.appspot.com",messagingSenderId:"362949241044",appId:"1:362949241044:web:582d406716a6e217253341",measurementId:"G-P4VBD9H4W5"});var T=C.a.firestore(),B={is_loaded:!1,list:[]},A=T.collection("bucket"),L=function(e){return{type:"bucket/LOADED",loaded:e}},P=function(e,t){return function(n,c){var o=c().bucket.list[e];if(o.id){var i=Object(_.a)(Object(_.a)({},o),{},{bucket_note:t});A.doc(i.id).update(i).then((function(c){console.log(t),n(function(e,t){return{type:"bucket/UPDATENOTE",bucket_index:e,bucketNote:t}}(e,t))})).catch((function(e){console.log(e)}))}}};var I,z,N,F,S=function(e){var t=Object(x.c)(),n=Object(x.d)((function(e){return e.bucket.list}));console.log(n);var c=parseInt(e.match.params.index),o=n[c].completed?Object(h.jsx)(E.a,{size:"30"}):Object(h.jsx)(E.b,{size:"30"}),a=Object(i.useState)(null),r=Object(m.a)(a,2),d=r[0],l=r[1];return console.log(n[c].bucket_note),console.log(d),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:n[c].text}),Object(h.jsx)("form",{id:"noter-save-form",method:"POST",children:Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("textarea",{type:"text",id:"textarea",rows:"20",cols:"49",onChange:function(){l(document.getElementById("textarea").value),t(P(c,d))},children:n[c].bucket_note})})}),Object(h.jsxs)(y.a,{children:[Object(h.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){document.getElementById("textarea").value!==n[c].bucket_note&&(l(document.getElementById("textarea").value),console.log("updateBucketNoteFB Go"),t(P(c,d)))},children:"\ub178\ud2b8\uc800\uc7a5"}),Object(h.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){var n;t((n=c,function(e,t){var c=t().bucket.list[n];if(c.id)if(!0===c.completed){var o=Object(_.a)(Object(_.a)({},c),{},{completed:!1});A.doc(o.id).update(o).then((function(t){e(function(e){return{type:"bucket/UPDATECOMPLETED",bucket:e}}(n))})).catch((function(e){console.log("err")}))}else{var i=Object(_.a)(Object(_.a)({},c),{},{completed:!0});A.doc(c.id).update(i).then((function(t){e(function(e){return{type:"bucket/UPDATE",bucket:e}}(n))})).catch((function(e){console.log("err")}))}})),e.history.goBack()},children:o}),Object(h.jsx)(v.a,{variant:"outlined",onClick:function(){var n;t((n=c,function(e,t){var c=t().bucket.list[n];c.id&&A.doc(c.id).delete().then((function(t){e(function(e){return{type:"bucket/DELETE",bucket:e}}(n))})).catch((function(e){console.log("err")}))})),e.history.goBack()},children:Object(h.jsx)(w.a,{size:"30"})}),Object(h.jsx)(v.a,{variant:"outlined",onClick:function(){e.history.goBack()},children:Object(h.jsx)(E.d,{size:"30"})}),Object(h.jsx)(v.a,{variant:"outlined",onClick:function(){alert("coming soon")},children:Object(h.jsx)(E.c,{size:"28"})})]})]})},U=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"\uc8fc\uc18c\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc544\uc694!"}),Object(h.jsx)("button",{onClick:function(){e.history.goBack()},children:"\ub4a4\ub85c\uac00\uae30"})]})},M=n(98),G=n.p+"static/media/profile.565cbf60.PNG";var J,R,H,K,V,W,Y,q=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(X,{children:Object(h.jsx)(M.a,{src:G,children:"H"})}),Object(h.jsx)(Q,{children:"\ub0b4 \ubc84\ud0b7\ub9ac\uc2a4\ud2b8"})]})},Q=f.a.h1(I||(I=Object(l.a)(["\n  color: #673ab7;\n  text-align: center;\n"]))),X=(f.a.h5(z||(z=Object(l.a)(["\n  color: #ddd;\n  text-align: right;\n  margin: 0;\n"]))),f.a.h6(N||(N=Object(l.a)(["\n  color: #ddd;\n  width: spacing(15);\n  height: spacing(15);\n"]))),f.a.h5(F||(F=Object(l.a)(["\n  display: flex;\n  color: #ddd;\n  text-align: right;\n  // border: 1px solid #000;\n  margin: 0;\n"])))),Z=f.a.div(J||(J=Object(l.a)(["\n  background: #eee;\n  width: 100%;\n  height: 20px;\n  display: flex;\n  border-radius: 10px;\n  align-items: center;\n"]))),$=f.a.div(R||(R=Object(l.a)(["\n  background: #673ab7;\n  width: ",";\n  height: 20px;\n  border-radius: 10px;\n  transition: 2s;\n"])),(function(e){return e.width})),ee=f.a.div(H||(H=Object(l.a)(["\n  background: #fff;\n  border: 5px solid #673ab7;\n  box-sizing: border-box;\n  margin: 0px 0px 0px -10px;\n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n"]))),te=function(e){var t=Object(x.d)((function(e){return e.bucket.list})),n=0;t.map((function(e,t){e.completed&&n++}));return Object(h.jsxs)(Z,{children:[Object(h.jsx)($,{width:n/t.length*100+"%"}),Object(h.jsx)(ee,{})]})},ne=n(97),ce=f.a.div(K||(K=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #ede2ff;\n"]))),oe=function(e){return Object(h.jsx)(ce,{children:Object(h.jsx)(ne.a,{style:{color:"#673ab7",fontSize:"150px"}})})},ie=n(54),ae=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).addBucketList=function(){var e=c.text.current.value;""!==e?(c.props.create(e),c.text.current.value=""):alert("\ubc84\ud0b7\uc744 \uc785\ub825\ud558\uc138\uc694")},c.state={},c.text=a.a.createRef(),c}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"render",value:function(){return console.log("is_loaded? -> ",this.props.is_loaded),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)(de,{children:[Object(h.jsx)(q,{}),this.props.is_loaded?Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsx)(te,{}),Object(h.jsx)(le,{}),Object(h.jsxs)(p.c,{children:[Object(h.jsx)(p.a,{path:"/",exact:!0,component:k}),Object(h.jsx)(p.a,{path:"/detail/:index",component:S}),Object(h.jsx)(p.a,{component:U})]})]}):Object(h.jsx)(oe,{})]}),Object(h.jsxs)(re,{children:[Object(h.jsx)("input",{type:"text",ref:this.text}),Object(h.jsx)("button",{onClick:this.addBucketList,children:Object(h.jsx)(ie.a,{size:"32"})})]})]})}}]),n}(a.a.Component),re=f.a.div(V||(V=Object(l.a)(["\n  max-width: 350px;\n  min-height: 10vh;\n  background-color: #fff;\n  padding: 16px;\n  margin: 20px auto;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  & > * {\n    padding: 5px;\n  }\n\n  & input {\n    border-radius: 5px;\n    margin-right: 10px;\n    border: 1px solid #888;\n    width: 90%;\n    &:focus {\n      border: 1px solid #a673ff;\n    }\n  }\n\n  & button {\n    width: 25%;\n    color: #fff;\n    border: 1px solid #fff;\n    background-color: #fff;\n  }\n"]))),de=f.a.div(W||(W=Object(l.a)(["\n  max-width: 350px;\n  min-height: 60vh;\n  background-color: #fff;\n  padding: 16px;\n  margin: 20px auto;\n  border-radius: 5px;\n  border: 1px solid #ddd;\n"]))),le=f.a.hr(Y||(Y=Object(l.a)(["\n  margin: 16px 0px;\n  border: 1px dotted #ddd;\n"]))),ue=Object(x.b)((function(e){return{bucket_list:e.bucket.list,is_loaded:e.bucket.is_loaded}}),(function(e){return{load:function(){e((function(e){A.get().then((function(t){var n=[];t.forEach((function(e){console.log(e),console.log(e.data()),console.log(e.id),e.exists&&(e.data().bucket_note,n=[].concat(Object(D.a)(n),[Object(_.a)({id:e.id},e.data())]),console.log(e.data().bucket_note))})),console.log(n),e({type:"bucket/LOAD",bucket:n})}))}))},create:function(t){var n;console.log(t),e((n=t,function(e){e(L(!1));var t={text:n,completed:!1,bucket_note:"\ucd08\uae30\uac12\uc73c\ub85c \uc0dd\uc131\ud55c \ub178\ud2b8!"};A.add(t).then((function(n){t=Object(_.a)(Object(_.a)({},t),{},{id:n.id,bucket_note:n.bucket_note}),console.log(n.bucket_note),e(function(e){return{type:"bucket/CREATE",bucket:e}}(t)),console.log(t),e(L(!0))})).catch((function(t){console.log(t),window.alert("\uc624\ub958\uac00 \ub0ac\ub124\uc694! \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694!"),e(L(!0))}))}))}}}))(Object(p.f)(ae)),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))},be=n(39),je=n(36),pe=n(55),fe=n(17),xe=(Object(fe.a)(),[pe.a]),he=je.a.apply(void 0,xe),Oe=Object(je.b)({bucket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action: ",t),t.type){case"bucket/LOAD":return t.bucket.length>0?{list:t.bucket,is_loaded:!0}:e;case"bucket/CREATE":var n=[].concat(Object(D.a)(e.list),[t.bucket]);return Object(_.a)(Object(_.a)({},e),{},{list:n});case"bucket/DELETE":var c=e.list.filter((function(e,n){if(n!==t.bucket)return e}));return Object(_.a)(Object(_.a)({},e),{},{list:c});case"bucket/UPDATE":var o=e.list.map((function(e,n){return n===t.bucket?(console.log(t.bucket),Object(_.a)(Object(_.a)({},e),{},{completed:!0})):e}));return Object(_.a)(Object(_.a)({},e),{},{list:o});case"bucket/UPDATECOMPLETED":var i=e.list.map((function(e,n){return n===t.bucket?(console.log(t.bucket),Object(_.a)(Object(_.a)({},e),{},{completed:!1})):e}));return Object(_.a)(Object(_.a)({},e),{},{list:i});case"bucket/UPDATENOTE":console.log(e.list),console.log(t);var a=e.list.map((function(e,n){return n===t.bucket_index?(console.log(t.bucketNote),Object(_.a)(Object(_.a)({},e),{},{bucket_note:t.bucketNote})):e}));return console.log(a),console.log("state: ",e),Object(_.a)(Object(_.a)({},e),{},{list:a});case"bucket/LOADED":return Object(_.a)(Object(_.a)({},e),{},{is_loaded:t.loaded});default:return e}}}),ge=Object(je.c)(Oe,he);d.a.render(Object(h.jsx)(x.a,{store:ge,children:Object(h.jsx)(be.a,{children:Object(h.jsx)(ue,{})})}),document.getElementById("root")),se()}},[[75,1,2]]]);
//# sourceMappingURL=main.ce740444.chunk.js.map